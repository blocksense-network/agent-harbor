# Copyright 2025 Schelling Point Labs Inc
# SPDX-License-Identifier: AGPL-3.0-only

name: timing_test_scenario
description: Scenario for testing SSE event timing verification
tags:
  - test
  - timing
repo:
  init: true
  files:
    - path: README.md
      contents: '# Timing Test Scenario


        Used to verify that SSE events are streamed with correct timing.

        '
timeline:
  - llmResponse:
      - think:
          - content: Beginning timing verification process
            relativeTime: 100
          - content: Analyzing timing requirements
            relativeTime: 300
          - content: Starting timing test scenario
            relativeTime: 500
      - assistant:
          - content: Beginning timing verification process
            relativeTime: 600
  - agentToolUse:
      toolName: run_command
      args:
        command: echo 'Timing test started'
        cwd: .
      progress:
        - relativeTime: 100
          message: Preparing timing test...
        - relativeTime: 200
          message: Running timing verification...
      result: Timing test started
      status: ok
  - agentEdits:
      path: timing_test.txt
      linesAdded: 3
      linesRemoved: 0
  - llmResponse:
      - think:
          - content: Preparing final verification
            relativeTime: 200
          - content: Processing timing results
            relativeTime: 400
      - assistant:
          - content: Timing verification completed successfully
            relativeTime: 500
  - agentToolUse:
      toolName: run_command
      args:
        command: echo 'Timing test completed'
        cwd: .
      progress:
        - relativeTime: 150
          message: Finalizing timing test...
      result: Timing test completed
      status: ok
  - complete: true
  - merge: true
expect:
  exitCode: 0
  artifacts:
    - type: taskFile
      pattern: README.md
    - type: taskFile
      pattern: timing_test.txt
