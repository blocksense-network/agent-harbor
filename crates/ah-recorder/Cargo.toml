# Copyright 2025 Schelling Point Labs Inc
# SPDX-License-Identifier: AGPL-3.0-only

[package]
name = "ah-recorder"
version = "0.1.0"
edition = "2021"
description = "Agent Harbor recording and replay functionality"
license = "MIT OR Apache-2.0"

[dependencies]
# Workspace dependencies
anyhow = { workspace = true }
thiserror = { workspace = true }
serde = { workspace = true, features = ["derive"] }
serde_json = { workspace = true }
tokio = { workspace = true }
tracing = { workspace = true }
tracing-subscriber = "0.3"
chrono = { workspace = true }

# Agent Harbor workspace crates
ah-core = { path = "../ah-core" }
ah-domain-types = { path = "../ah-domain-types" }

# Recording-specific dependencies
portable-pty = "0.8"
vt100 = { workspace = true }
brotli = "7.0"
byteorder = "1.5"
ratatui = { workspace = true }
crossterm = { workspace = true }
tui-textarea = { workspace = true }

# SSZ serialization for IPC
ethereum_ssz = { workspace = true }
ethereum_ssz_derive = { workspace = true }

# Aliases for SSZ crates (matching daemon pattern)
ssz = { package = "ethereum_ssz", version = "0.8" }
ssz_derive = { package = "ethereum_ssz_derive", version = "0.8" }

[[bin]]
name = "inspect_ahr"
path = "../../tests/tools/inspect_ahr.rs"

[dev-dependencies]
tempfile = { workspace = true }
tokio = { workspace = true, features = ["macros", "rt-multi-thread"] }
